FROM nginx:alpine
RUN apk add --update nodejs
RUN apk add --update npm
RUN npm install -g yarn
RUN npm install -g typescript
RUN npm install -g ts-node
RUN mkdir /usr/share/nginx/build
COPY ./client/ /usr/share/nginx/build
WORKDIR /usr/share/nginx/build
RUN yarn install
RUN npm run build -- --output-path=/usr/share/nginx/html
