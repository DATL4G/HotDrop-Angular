FROM nginx:alpine
RUN apk add --update nodejs
RUN apk add --update npm
RUN npm install -g typescript@3.5.3
RUN npm install -g ts-node
RUN mkdir /usr/share/nginx/build
COPY ./client/ /usr/share/nginx/build
WORKDIR /usr/share/nginx/build
RUN npm install typescript@3.5.3
RUN npm install
RUN npm run build -- --output-path=/usr/share/nginx/html
